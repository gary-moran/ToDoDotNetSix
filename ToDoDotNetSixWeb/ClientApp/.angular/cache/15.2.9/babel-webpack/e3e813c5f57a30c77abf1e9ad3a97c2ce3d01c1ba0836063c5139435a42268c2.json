{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { ControlValidation } from '../../shared/utilities/control-validation';\nimport { ElementFocus } from '../../shared/utilities/element-focus';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/view-model-data.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../../shared/services/message.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../shared/components/element-validation-message/element-validation-message.component\";\nfunction LoginComponent_element_validation_message_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"element-validation-message\", 17);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"model\", ctx_r0.loginForm.get(\"username\"));\n  }\n}\nfunction LoginComponent_element_validation_message_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"element-validation-message\", 17);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"model\", ctx_r1.loginForm.get(\"password\"));\n  }\n}\nexport class LoginComponent {\n  constructor(viewModelDataService, formBuilder, messageService) {\n    this.viewModelDataService = viewModelDataService;\n    this.formBuilder = formBuilder;\n    this.messageService = messageService;\n    this.elementHasFocus = ElementFocus.elementHasFocus;\n    this.isControlInvalid = ControlValidation.isInvalid;\n    this.isProcessing = false;\n  }\n  ngOnInit() {\n    this.initForm();\n  }\n  /**\r\n   * Initialise Form\r\n   */\n  initForm() {\n    this.loginForm = this.formBuilder.group({\n      username: ['', {\n        validators: [Validators.required],\n        updateOn: 'blur'\n      }],\n      password: ['', {\n        validators: [Validators.required],\n        updateOn: 'blur'\n      }]\n    });\n  }\n  onLogin() {}\n  onCancel() {}\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.ViewModelDataService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.MessageService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 25,\n  vars: 5,\n  consts: [[\"role\", \"main\", 1, \"container\"], [1, \"row\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-title\"], [1, \"card-body\"], [\"novalidate\", \"\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-2\", \"form-floating\", \"col-md-8\"], [\"id\", \"username\", \"type\", \"text\", \"formControlName\", \"username\", \"placeholder\", \"username\", \"maxLength\", \"40\", 1, \"form-control\"], [3, \"model\", 4, \"ngIf\"], [\"for\", \"name\", 1, \"form-label\"], [1, \"mb-2\", \"form-floating\"], [\"id\", \"password\", \"type\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"password\", \"maxLength\", \"40\", 1, \"form-control\"], [\"for\", \"password\", 1, \"form-label\"], [1, \"gap-2\", \"d-flex\", \"justify-content-end\"], [\"type\", \"submit\", 1, \"btn\", \"btn-secondary\", 3, \"disabled\", \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"disabled\", \"click\"], [3, \"model\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"main\", 0)(1, \"div\", 1)(2, \"h1\");\n      i0.ɵɵtext(3, \"Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"h5\", 4);\n      i0.ɵɵtext(7, \"Enter your credentials\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 5)(9, \"form\", 6);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_9_listener() {\n        return ctx.onLogin();\n      });\n      i0.ɵɵelementStart(10, \"div\", 7);\n      i0.ɵɵelement(11, \"input\", 8);\n      i0.ɵɵtemplate(12, LoginComponent_element_validation_message_12_Template, 1, 1, \"element-validation-message\", 9);\n      i0.ɵɵelementStart(13, \"label\", 10);\n      i0.ɵɵtext(14, \"Name\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 11);\n      i0.ɵɵelement(16, \"input\", 12);\n      i0.ɵɵtemplate(17, LoginComponent_element_validation_message_17_Template, 1, 1, \"element-validation-message\", 9);\n      i0.ɵɵelementStart(18, \"label\", 13);\n      i0.ɵɵtext(19, \"Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 14)(21, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_21_listener() {\n        return ctx.onLogin();\n      });\n      i0.ɵɵtext(22, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_23_listener() {\n        return ctx.onCancel();\n      });\n      i0.ɵɵtext(24, \"Cancel\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", !ctx.elementHasFocus(\"username\") && ctx.isControlInvalid(ctx.loginForm.get(\"username\")));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !ctx.elementHasFocus(\"password\") && ctx.isControlInvalid(ctx.loginForm.get(\"password\")));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"disabled\", ctx.isProcessing || !ctx.loginForm.valid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.isProcessing);\n    }\n  },\n  dependencies: [i4.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i5.ElementValidationMessageComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAgBA,SAAiCA,UAAU,QAAQ,gBAAgB;AAGnE,SAASC,iBAAiB,QAAQ,2CAA2C;AAC7E,SAASC,YAAY,QAAQ,sCAAsC;;;;;;;;;ICAzDC,iDAAiL;;;;IAArJA,wDAAmC;;;;;IAQ/DA,iDAAiL;;;;IAArJA,wDAAmC;;;ADDzE,OAAM,MAAOC,cAAc;EAQzBC,YAAoBC,oBAA0C,EAAUC,WAAwB,EAAUC,cAA8B;IAApH,yBAAoB,GAApBF,oBAAoB;IAAgC,gBAAW,GAAXC,WAAW;IAAuB,mBAAc,GAAdC,cAAc;IANxH,oBAAe,GAAGN,YAAY,CAACO,eAAe;IAC9C,qBAAgB,GAAGR,iBAAiB,CAACS,SAAS;IAE9C,iBAAY,GAAY,KAAK;EAGgH;EAE7IC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEA;;;EAGAA,QAAQ;IACN,IAAI,CAACC,SAAS,GAAG,IAAI,CAACN,WAAW,CAACO,KAAK,CAAC;MACtCC,QAAQ,EAAE,CAAC,EAAE,EAAE;QAAEC,UAAU,EAAE,CAAChB,UAAU,CAACiB,QAAQ,CAAC;QAAEC,QAAQ,EAAE;MAAM,CAAE,CAAC;MACvEC,QAAQ,EAAE,CAAC,EAAE,EAAE;QAAEH,UAAU,EAAE,CAAChB,UAAU,CAACiB,QAAQ,CAAC;QAAEC,QAAQ,EAAE;MAAM,CAAE;KACvE,CAAC;EACJ;EAEAE,OAAO,IAAK;EAEZC,QAAQ,IAAK;;AA1BFjB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MC3B3BvB,+BAAoC;MAG5BA,qBAAK;MAAAA,iBAAK;MAGhBA,8BAAkB;MAGSA,sCAAsB;MAAAA,iBAAK;MAGpDA,8BAAuB;MAEJA;QAAA,OAAYwB,aAAS;MAAA,EAAC;MAIrCxB,+BAAyC;MACvCA,4BAAyH;MACzHA,+GAAiL;MACjLA,kCAAqC;MAAAA,qBAAI;MAAAA,iBAAQ;MAKnDA,gCAAgC;MAC9BA,6BAA6H;MAC7HA,+GAAiL;MACjLA,kCAAyC;MAAAA,yBAAQ;MAAAA,iBAAQ;MAG3DA,gCAA8C;MACIA;QAAA,OAASwB,aAAS;MAAA,EAAC;MAAoDxB,sBAAK;MAAAA,iBAAS;MACrIA,mCAA+F;MAA/CA;QAAA,OAASwB,cAAU;MAAA,EAAC;MAA2BxB,uBAAM;MAAAA,iBAAS;;;MApB1EA,eAAuB;MAAvBA,yCAAuB;MAMMA,eAAiF;MAAjFA,8GAAiF;MAQjFA,eAAiF;MAAjFA,8GAAiF;MAK9EA,eAAkD;MAAlDA,mEAAkD;MACjDA,eAAyB;MAAzBA,2CAAyB","names":["Validators","ControlValidation","ElementFocus","i0","LoginComponent","constructor","viewModelDataService","formBuilder","messageService","elementHasFocus","isInvalid","ngOnInit","initForm","loginForm","group","username","validators","required","updateOn","password","onLogin","onCancel","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Projects\\web\\ToDoDotNetSix\\ToDoDotNetSixWeb\\ClientApp\\src\\app\\todo\\login\\login.component.ts","C:\\Projects\\web\\ToDoDotNetSix\\ToDoDotNetSixWeb\\ClientApp\\src\\app\\todo\\login\\login.component.html"],"sourcesContent":["/**************************************************************************\n*\n*  System:    ToDo (Web)\n*  Module:    Client App \\ Todo\n*  Date:      09 AUG 2023\n*  Author:    Gary Moran (GM)\n*  Function:  Login\n*  Notes:     \n*\n*                   : History of Amendments :\n*  Date        Name        Brief description                \n*  ----------- ----------  ---------------------------------------------\n*  09 AUG 2023 GM          Created\n************************************************************************/\n\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MessageService } from '../../shared/services/message.service';\r\nimport { ViewModelDataService } from '../../shared/services/view-model-data.service';\r\nimport { ControlValidation } from '../../shared/utilities/control-validation';\r\nimport { ElementFocus } from '../../shared/utilities/element-focus';\r\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit{\n\n  elementHasFocus = ElementFocus.elementHasFocus;\r\n  isControlInvalid = ControlValidation.isInvalid;\n\n  isProcessing: boolean = false;\n  loginForm!: FormGroup;\n\n  constructor(private viewModelDataService: ViewModelDataService, private formBuilder: FormBuilder, private messageService: MessageService,) { }\n\n  ngOnInit(): void {\r\n    this.initForm();\r\n  }\n\n  /**\r\n   * Initialise Form\r\n   */\r\n  initForm() {\r\n    this.loginForm = this.formBuilder.group({\r\n      username: ['', { validators: [Validators.required], updateOn: 'blur' }],\r\n      password: ['', { validators: [Validators.required], updateOn: 'blur' }],\r\n    });\r\n  }\n\n  onLogin() { }\n\n  onCancel() { }\n}\n","<main class=\"container\" role=\"main\">\r\n\r\n  <div class=\"row\">\r\n    <h1>Login</h1>\r\n  </div>\r\n\r\n  <div class=\"card\">\r\n\r\n    <div class=\"card-header\">\r\n      <h5 class=\"card-title\">Enter your credentials</h5>\r\n    </div>\r\n\r\n    <div class=\"card-body\">\r\n\r\n      <form novalidate (ngSubmit)=\"onLogin()\" [formGroup]=\"loginForm\">\r\n\r\n        <!--<div class=\"row g-2\">-->\r\n\r\n        <div class=\"mb-2 form-floating col-md-8\">\r\n          <input class=\"form-control\" id=\"username\" type=\"text\" formControlName=\"username\" placeholder=\"username\" maxLength=\"40\" />\r\n          <element-validation-message [model]=\"loginForm.get('username')\" *ngIf=\"!elementHasFocus('username') && isControlInvalid(loginForm.get('username'))\"></element-validation-message>\r\n          <label class=\"form-label\" for=\"name\">Name</label>\r\n        </div>\r\n\r\n        <!--</div>-->\r\n\r\n        <div class=\"mb-2 form-floating\">\r\n          <input class=\"form-control\" id=\"password\" type=\"password\" formControlName=\"password\" placeholder=\"password\" maxLength=\"40\" />\r\n          <element-validation-message [model]=\"loginForm.get('password')\" *ngIf=\"!elementHasFocus('password') && isControlInvalid(loginForm.get('password'))\"></element-validation-message>\r\n          <label class=\"form-label\" for=\"password\">Password</label>\r\n        </div>\r\n\r\n        <div class=\"gap-2 d-flex justify-content-end\">\r\n          <button type=\"submit\" class=\"btn btn-secondary\" (click)=\"onLogin()\" [disabled]=\"isProcessing || !this.loginForm.valid\">Login</button>\r\n          <button type=\"button\" class=\"btn btn-secondary\" (click)=\"onCancel()\" [disabled]=\"isProcessing\">Cancel</button>\r\n        </div>\r\n\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n</main>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}