{"ast":null,"code":"import { map } from 'rxjs/operators';\nexport class UsernameValidator {\n  static createValidator(authenticationService) {\n    return control => {\n      return authenticationService.checkIfUsernameExists(control.value).pipe(map(result => result ? {\n        usernameAlreadyExists: true\n      } : null));\n    };\n  }\n}","map":{"version":3,"mappings":"AAMA,SAASA,GAAG,QAAQ,gBAAgB;AAGpC,OAAM,MAAOC,iBAAiB;EAC5B,OAAOC,eAAe,CAACC,qBAA4C;IACjE,OAAQC,OAAwB,IAAkC;MAChE,OAAOD,qBAAqB,CACzBE,qBAAqB,CAACD,OAAO,CAACE,KAAK,CAAC,CACpCC,IAAI,CACHP,GAAG,CAAEQ,MAAe,IAClBA,MAAM,GAAG;QAAEC,qBAAqB,EAAE;MAAI,CAAE,GAAG,IAAI,CAChD,CACF;IACL,CAAC;EACH","names":["map","UsernameValidator","createValidator","authenticationService","control","checkIfUsernameExists","value","pipe","result","usernameAlreadyExists"],"sourceRoot":"","sources":["C:\\Projects\\web\\ToDoDotNetSix\\ToDoDotNetSixWeb\\ClientApp\\src\\app\\shared\\validators\\username.validator.ts"],"sourcesContent":["import {\r\n  AbstractControl,\r\n  AsyncValidatorFn,\r\n  ValidationErrors,\r\n} from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { AuthenticationService } from '../services/authentication.service';\r\n\r\nexport class UsernameValidator {\r\n  static createValidator(authenticationService: AuthenticationService): AsyncValidatorFn {\r\n    return (control: AbstractControl): Observable<ValidationErrors> => {\r\n      return authenticationService\r\n        .checkIfUsernameExists(control.value)\r\n        .pipe(\r\n          map((result: boolean) => \r\n            result ? { usernameAlreadyExists: true } : null          \r\n          )\r\n        );\r\n    };\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}