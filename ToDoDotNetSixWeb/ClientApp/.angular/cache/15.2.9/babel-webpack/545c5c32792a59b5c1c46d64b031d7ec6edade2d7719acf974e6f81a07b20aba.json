{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./app-config.service\";\nexport class ViewModelDataService {\n  constructor(http, appConfigProvider) {\n    this.http = http;\n    this.appConfigProvider = appConfigProvider;\n    this.apiBaseUrl = \"\";\n    // extract API base URL from App Config\n    this.appConfigProvider.AppConfig.subscribe(config => {\n      this.appConfig = config;\n      this.apiBaseUrl = this.appConfig.WebApi;\n    });\n  }\n  /**\r\n   * Get View Model\r\n   * @type T\r\n   * @param controller Controller Name\r\n   * @returns View Model\r\n   */\n  getViewModel(controller, id) {\n    return this.http.get(`${this.apiBaseUrl}/api/${controller}/${id}`);\n  }\n  /**\r\n   * Get View Model List\r\n   * @type T\r\n   * @param controller Controller Name\r\n   * @returns View Model array\r\n   */\n  getViewModelList(controller) {\n    return this.http.get(`${this.apiBaseUrl}/api/${controller}/`);\n  }\n  /**\r\n  * Action View Model\r\n  * @type T\r\n  * @param model View Model\r\n  * @param controller Controller Name\r\n  * @param method Method Name\r\n  * @returns Generic View Model\r\n  */\n  actionViewModel(model, controller, methodName) {\n    return this.http.post(`${this.apiBaseUrl}/api/${controller}/${methodName}`, model);\n  }\n  /**\r\n  * Add View Model\r\n  * @type T\r\n  * @param model View Model\r\n  * @param controller Controller Name\r\n  * @returns Generic View Model\r\n  */\n  addViewModel(model, controller) {\n    return this.http.post(`${this.apiBaseUrl}/api/${controller}/`, model);\n  }\n  /**\r\n  * Update View Model\r\n  * @type T\r\n  * @param model View Model\r\n  * @param controller Controller Name\r\n  * @param id ID\r\n  * @returns Generic View Model\r\n  */\n  updateViewModel(model, controller, id) {\n    return this.http.put(`${this.apiBaseUrl}/api/${controller}/${id}`, model);\n  }\n  /**\r\n   * Delete View Model\r\n   * @param controller Controller Name\r\n   * @param id\r\n   * @returns true if successful\r\n   */\n  deleteViewModel(controller, id) {\n    return this.http.delete(`${this.apiBaseUrl}/api/${controller}/${id}`);\n  }\n}\nViewModelDataService.ɵfac = function ViewModelDataService_Factory(t) {\n  return new (t || ViewModelDataService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.AppConfigService));\n};\nViewModelDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ViewModelDataService,\n  factory: ViewModelDataService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;;AAuBA,OAAM,MAAOA,oBAAoB;EAK/BC,YAAoBC,IAAgB,EAAUC,iBAAmC;IAA7D,SAAI,GAAJD,IAAI;IAAsB,sBAAiB,GAAjBC,iBAAiB;IAF/D,eAAU,GAAW,EAAE;IAGrB;IACA,IAAI,CAACA,iBAAiB,CAACC,SAAS,CAACC,SAAS,CAACC,MAAM,IAAG;MAClD,IAAI,CAACC,SAAS,GAAGD,MAAM;MACvB,IAAI,CAACE,UAAU,GAAG,IAAI,CAACD,SAAS,CAACE,MAAM;IACzC,CAAC,CAAC;EACJ;EAEA;;;;;;EAMAC,YAAY,CAAIC,UAAkB,EAAEC,EAAU;IAC5C,OAAO,IAAI,CAACV,IAAI,CAACW,GAAG,CAAI,GAAG,IAAI,CAACL,UAAU,QAAQG,UAAU,IAAIC,EAAE,EAAE,CAAC;EACvE;EAEA;;;;;;EAMAE,gBAAgB,CAAIH,UAAkB;IACpC,OAAO,IAAI,CAACT,IAAI,CAACW,GAAG,CAAM,GAAG,IAAI,CAACL,UAAU,QAAQG,UAAU,GAAG,CAAC;EACpE;EAEA;;;;;;;;EAQAI,eAAe,CAAIC,KAAQ,EAAEL,UAAkB,EAAEM,UAAkB;IACjE,OAAO,IAAI,CAACf,IAAI,CAACgB,IAAI,CAAI,GAAG,IAAI,CAACV,UAAU,QAAQG,UAAU,IAAIM,UAAU,EAAE,EAAED,KAAK,CAAC;EACvF;EAEA;;;;;;;EAOAG,YAAY,CAAIH,KAAQ,EAAEL,UAAkB;IAC1C,OAAO,IAAI,CAACT,IAAI,CAACgB,IAAI,CAAI,GAAG,IAAI,CAACV,UAAU,QAAQG,UAAU,GAAG,EAAEK,KAAK,CAAG;EAC5E;EAEA;;;;;;;;EAQAI,eAAe,CAAIJ,KAAQ,EAAEL,UAAkB,EAAEC,EAAU;IACzD,OAAO,IAAI,CAACV,IAAI,CAACmB,GAAG,CAAI,GAAG,IAAI,CAACb,UAAU,QAAQG,UAAU,IAAIC,EAAE,EAAE,EAAEI,KAAK,CAAC;EAC9E;EAEA;;;;;;EAMAM,eAAe,CAACX,UAAkB,EAAEC,EAAU;IAC5C,OAAO,IAAI,CAACV,IAAI,CAACqB,MAAM,CAAU,GAAG,IAAI,CAACf,UAAU,QAAQG,UAAU,IAAIC,EAAE,EAAE,CAAC;EAChF;;AA5EWZ,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;SAApBA,oBAAoB;EAAAwB,SAApBxB,oBAAoB;EAAAyB,YAFnB;AAAM","names":["ViewModelDataService","constructor","http","appConfigProvider","AppConfig","subscribe","config","appConfig","apiBaseUrl","WebApi","getViewModel","controller","id","get","getViewModelList","actionViewModel","model","methodName","post","addViewModel","updateViewModel","put","deleteViewModel","delete","factory","providedIn"],"sourceRoot":"","sources":["C:\\Projects\\web\\ToDoDotNetSix\\ToDoDotNetSixWeb\\ClientApp\\src\\app\\shared\\services\\view-model-data.service.ts"],"sourcesContent":["/**************************************************************************\r\n*\r\n*  System:    ToDo (Web)\r\n*  Module:    Client App \\ Shared \\ Services\r\n*  Date:      25 JUL 2023\r\n*  Author:    Gary Moran (GM)\r\n*  Function:  View Model Data Service\r\n*  Notes:     \r\n*\r\n*                   : History of Amendments :\r\n*  Date        Name        Brief description                \r\n*  ----------- ----------  ---------------------------------------------\r\n*  25 JUL 2023 GM          Created\r\n************************************************************************/\r\n\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Todo } from '../models/todo';\r\nimport { AppConfig, AppConfigService } from './app-config.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ViewModelDataService {\r\n\r\n  appConfig: AppConfig | undefined;\r\n  apiBaseUrl: string = \"\";\r\n\r\n  constructor(private http: HttpClient, private appConfigProvider: AppConfigService,) {\r\n    // extract API base URL from App Config\r\n    this.appConfigProvider.AppConfig.subscribe(config => {\r\n      this.appConfig = config;\r\n      this.apiBaseUrl = this.appConfig.WebApi;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get View Model\r\n   * @type T \r\n   * @param controller Controller Name\r\n   * @returns View Model\r\n   */\r\n  getViewModel<T>(controller: string, id: number) {\r\n    return this.http.get<T>(`${this.apiBaseUrl}/api/${controller}/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Get View Model List\r\n   * @type T \r\n   * @param controller Controller Name\r\n   * @returns View Model array\r\n   */\r\n  getViewModelList<T>(controller: string) {\r\n    return this.http.get<T[]>(`${this.apiBaseUrl}/api/${controller}/`);\r\n  }\r\n\r\n  /**\r\n  * Action View Model\r\n  * @type T \r\n  * @param model View Model\r\n  * @param controller Controller Name\r\n  * @param method Method Name\r\n  * @returns Generic View Model\r\n  */\r\n  actionViewModel<T>(model: T, controller: string, methodName: string) {\r\n    return this.http.post<T>(`${this.apiBaseUrl}/api/${controller}/${methodName}`, model);\r\n  }\r\n\r\n  /**\r\n  * Add View Model\r\n  * @type T \r\n  * @param model View Model\r\n  * @param controller Controller Name\r\n  * @returns Generic View Model\r\n  */\r\n  addViewModel<T>(model: T, controller: string) {\r\n    return this.http.post<T>(`${this.apiBaseUrl}/api/${controller}/`, model, );\r\n  }\r\n\r\n  /**\r\n  * Update View Model\r\n  * @type T \r\n  * @param model View Model\r\n  * @param controller Controller Name\r\n  * @param id ID\r\n  * @returns Generic View Model\r\n  */\r\n  updateViewModel<T>(model: T, controller: string, id: number) {\r\n    return this.http.put<T>(`${this.apiBaseUrl}/api/${controller}/${id}`, model);\r\n  }\r\n\r\n  /**\r\n   * Delete View Model\r\n   * @param controller Controller Name\r\n   * @param id\r\n   * @returns true if successful\r\n   */\r\n  deleteViewModel(controller: string, id: number) {\r\n    return this.http.delete<boolean>(`${this.apiBaseUrl}/api/${controller}/${id}`);\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}