{"ast":null,"code":"import { ElementFocus } from \"../../utilities/element-focus\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"@angular/common\";\nfunction ModalDialogComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.bodyText);\n  }\n}\nfunction ModalDialogComponent_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ModalDialogComponent_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onSave());\n    });\n    i0.ɵɵtext(1, \"Save\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ModalDialogComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ModalDialogComponent_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onCancel());\n    });\n    i0.ɵɵtext(1, \"Cancel\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"ngbAutofocus\", ctx_r2.defaultCancelButton);\n  }\n}\nfunction ModalDialogComponent_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ModalDialogComponent_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onDelete());\n    });\n    i0.ɵɵtext(1, \"Delete\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"ngbAutofocus\", ctx_r3.defaultDeleteButton);\n  }\n}\nfunction ModalDialogComponent_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ModalDialogComponent_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.onClose());\n    });\n    i0.ɵɵtext(1, \"Close\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport var ModalType;\n(function (ModalType) {\n  ModalType[ModalType[\"Save\"] = 0] = \"Save\";\n  ModalType[ModalType[\"Cancel\"] = 1] = \"Cancel\";\n  ModalType[ModalType[\"Delete\"] = 2] = \"Delete\";\n})(ModalType || (ModalType = {}));\n// YesNo\n// OK\nexport var ModalReturn;\n(function (ModalReturn) {\n  ModalReturn[ModalReturn[\"Save\"] = 0] = \"Save\";\n  ModalReturn[ModalReturn[\"Cancel\"] = 1] = \"Cancel\";\n  ModalReturn[ModalReturn[\"Delete\"] = 2] = \"Delete\";\n  ModalReturn[ModalReturn[\"Close\"] = 3] = \"Close\";\n})(ModalReturn || (ModalReturn = {}));\n// Yes\n// No\n// OK\nexport class ModalDialogComponent {\n  get defaultSaveButton() {\n    return this.isSaveButton ? \"ngbAutofocus\" : null;\n  }\n  get defaultDeleteButton() {\n    return this.isDeleteButton ? true : null;\n  }\n  get defaultCancelButton() {\n    return this.isCancelButton ? true : null;\n  }\n  constructor(activeModal) {\n    this.activeModal = activeModal;\n    this.modalType = ModalType.Save;\n    this.titleText = \"\";\n    this.isSaveButton = false;\n    this.isCancelButton = false;\n    this.isDeleteButton = false;\n    this.isCloseButton = false;\n  }\n  ngOnInit() {\n    this.SetupModalDialog();\n  }\n  /**\r\n   * Setup Modal Dialog\r\n   */\n  SetupModalDialog() {\n    switch (this.modalType) {\n      case ModalType.Save:\n        this.titleText = \"Save Changes\";\n        this.isSaveButton = true;\n        this.isCloseButton = true;\n        ElementFocus.setFocusOnElement(\"save\");\n        break;\n      case ModalType.Cancel:\n        this.titleText = \"Cancel Changes\";\n        this.isCancelButton = true;\n        this.isCloseButton = true;\n        ElementFocus.setFocusOnElement(\"cancel\");\n        break;\n      case ModalType.Delete:\n        this.titleText = \"Delete Record\";\n        this.isDeleteButton = true;\n        this.isCloseButton = true;\n        ElementFocus.setFocusOnElement(\"delete\");\n        break;\n    }\n    // override\n    if (this.titleTextOverride) this.titleText = this.titleTextOverride;\n  }\n  onSave() {\n    this.activeModal.close(ModalReturn.Save);\n  }\n  onCancel() {\n    this.activeModal.close(ModalReturn.Cancel);\n  }\n  onDelete() {\n    this.activeModal.close(ModalReturn.Delete);\n  }\n  onClose() {\n    this.activeModal.close(ModalReturn.Close);\n  }\n}\nModalDialogComponent.ɵfac = function ModalDialogComponent_Factory(t) {\n  return new (t || ModalDialogComponent)(i0.ɵɵdirectiveInject(i1.NgbActiveModal));\n};\nModalDialogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ModalDialogComponent,\n  selectors: [[\"modal-dialog\"]],\n  inputs: {\n    modalId: \"modalId\",\n    modalType: \"modalType\",\n    titleTextOverride: \"titleTextOverride\",\n    bodyText: \"bodyText\"\n  },\n  decls: 10,\n  vars: 6,\n  consts: [[1, \"modal-header\", \"bg-light\"], [1, \"modal-title\"], [\"type\", \"button\", 1, \"btn-close\", 3, \"click\"], [\"class\", \"modal-body\", 4, \"ngIf\"], [1, \"modal-footer\"], [\"{{defaultSaveButton}}\", \"\", \"id\", \"save\", \"type\", \"button\", \"class\", \"btn btn-secondary\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"cancel\", \"type\", \"button\", \"class\", \"btn btn-secondary\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"delete\", \"type\", \"button\", \"class\", \"btn btn-secondary\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-secondary\", 3, \"click\", 4, \"ngIf\"], [1, \"modal-body\"], [\"{{defaultSaveButton}}\", \"\", \"id\", \"save\", \"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"id\", \"cancel\", \"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"id\", \"delete\", \"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"]],\n  template: function ModalDialogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h5\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function ModalDialogComponent_Template_button_click_3_listener() {\n        return ctx.onClose();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(4, ModalDialogComponent_div_4_Template, 3, 1, \"div\", 3);\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵtemplate(6, ModalDialogComponent_button_6_Template, 2, 0, \"button\", 5);\n      i0.ɵɵtemplate(7, ModalDialogComponent_button_7_Template, 2, 1, \"button\", 6);\n      i0.ɵɵtemplate(8, ModalDialogComponent_button_8_Template, 2, 1, \"button\", 7);\n      i0.ɵɵtemplate(9, ModalDialogComponent_button_9_Template, 2, 0, \"button\", 8);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.titleText);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.bodyText);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isSaveButton);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isCancelButton);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isDeleteButton);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isCloseButton);\n    }\n  },\n  dependencies: [i2.NgIf],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["ElementFocus","i0","ModalType","ModalReturn","ModalDialogComponent","defaultSaveButton","isSaveButton","defaultDeleteButton","isDeleteButton","defaultCancelButton","isCancelButton","constructor","activeModal","Save","ngOnInit","SetupModalDialog","modalType","titleText","isCloseButton","setFocusOnElement","Cancel","Delete","titleTextOverride","onSave","close","onCancel","onDelete","onClose","Close","selectors","inputs","modalId","bodyText","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Projects\\web\\ToDoDotNetSix\\ToDoDotNetSixWeb\\ClientApp\\src\\app\\shared\\components\\modal-dialog\\modal-dialog.component.ts","C:\\Projects\\web\\ToDoDotNetSix\\ToDoDotNetSixWeb\\ClientApp\\src\\app\\shared\\components\\modal-dialog\\modal-dialog.component.html"],"sourcesContent":["/**************************************************************************\n*\n*  System:    ToDo (Web)\n*  Module:    Client App \\ Shared \\ Components\n*  Date:      03-AUG-2023\n*  Author:    Gary Moran (GM)\n*  Function:  Modal Dialog Component\n*  Notes:\n*\n*                   : History of Amendments :\n*  Date        Name        Brief description                \n*  ----------- ----------  ---------------------------------------------\n*  03-AUG-2023 GM          Created\n************************************************************************/\n\nimport { Component, Input, OnInit } from \"@angular/core\";\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { ElementFocus } from \"../../utilities/element-focus\";\r\n\nexport enum ModalType {\n  Save,\n  Cancel,\n  Delete\n}\n// YesNo\n// OK\n\nexport enum ModalReturn {\n  Save,\n  Cancel,\n  Delete,\n  Close\n}\n// Yes\n// No\n// OK\n\n@Component({\n  selector: 'modal-dialog',\n  templateUrl: './modal-dialog.component.html',\n})\nexport class ModalDialogComponent implements OnInit {\n  @Input() modalId?: string;\n  @Input() modalType: ModalType = ModalType.Save;\n  @Input() titleTextOverride?: string;\n  @Input() bodyText?: string;\n\n  public get defaultSaveButton() {\n    return this.isSaveButton ? \"ngbAutofocus\" : null;\r\n  }\n\n  public get defaultDeleteButton() {\n    return this.isDeleteButton ? true : null;\r\n  }\n\n  public get defaultCancelButton() {\n    return this.isCancelButton ? true : null;\r\n  }\n\n  titleText: string = \"\";\n  isSaveButton: boolean = false;\n  isCancelButton: boolean = false;\n  isDeleteButton: boolean = false;\n  isCloseButton: boolean = false;\n\n  constructor(public activeModal: NgbActiveModal) { }\n\n  ngOnInit(): void {\n    this.SetupModalDialog();\n  }\n\n  /**\n   * Setup Modal Dialog\n   */\n  SetupModalDialog(): void {\n\n    switch (this.modalType) {\n      case ModalType.Save:\n        this.titleText = \"Save Changes\";\n        this.isSaveButton = true;\n        this.isCloseButton = true;\n        ElementFocus.setFocusOnElement(\"save\");\n        break;\n      case ModalType.Cancel:\n        this.titleText = \"Cancel Changes\";\n        this.isCancelButton = true;\n        this.isCloseButton = true;\n        ElementFocus.setFocusOnElement(\"cancel\");\n        break;\n      case ModalType.Delete:\n        this.titleText = \"Delete Record\";\n        this.isDeleteButton = true;\n        this.isCloseButton = true;\n        ElementFocus.setFocusOnElement(\"delete\");\n        break;\n    }\n\n    // override\n    if (this.titleTextOverride)\n      this.titleText = this.titleTextOverride;\n  }\n\n  onSave(): void {\n    this.activeModal.close(ModalReturn.Save);\n  }\n\n  onCancel(): void {\n    this.activeModal.close(ModalReturn.Cancel);\n  }\n\n  onDelete(): void {\n    this.activeModal.close(ModalReturn.Delete);\n  }\n\n  onClose(): void {\n    this.activeModal.close(ModalReturn.Close);\n  }\n}\n","<div class=\"modal-header bg-light\">\n  <h5 class=\"modal-title\">{{titleText}}</h5>\n  <button type=\"button\" class=\"btn-close\" (click)=\"onClose();\"></button>\n</div>\n<div *ngIf=\"bodyText\" class=\"modal-body\">\n  <p>{{bodyText}}</p>\n</div>\n<div class=\"modal-footer\">\n  <button {{defaultSaveButton}} *ngIf=\"isSaveButton\" id=\"save\" type=\"button\" class=\"btn btn-secondary\" (click)=\"onSave()\">Save</button>\n  <button [attr.ngbAutofocus]=\"defaultCancelButton\" *ngIf=\"isCancelButton\" id=\"cancel\" type=\"button\" class=\"btn btn-secondary\" (click)=\"onCancel()\">Cancel</button>\n  <button [attr.ngbAutofocus]=\"defaultDeleteButton\" *ngIf=\"isDeleteButton\" id=\"delete\" type=\"button\" class=\"btn btn-secondary\" (click)=\"onDelete()\">Delete</button>\n  <button *ngIf=\"isCloseButton\" type=\"button\" class=\"btn btn-secondary\" (click)=\"onClose()\">Close</button>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}