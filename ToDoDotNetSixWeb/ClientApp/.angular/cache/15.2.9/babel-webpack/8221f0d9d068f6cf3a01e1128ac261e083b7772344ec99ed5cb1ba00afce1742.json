{"ast":null,"code":"/**************************************************************************\r\n*\r\n*  System:    ToDo (Web)\r\n*  Module:    Client App \\ Shared \\ Validators\r\n*  Date:      09 AUG 2023\r\n*  Author:    Gary Moran (GM)\r\n*  Function:  Text Validators\r\n*  Notes:\r\n*\r\n*                   : History of Amendments :\r\n*  Date        Name        Brief description\r\n*  ----------- ----------  ---------------------------------------------\r\n*  09 AUG 2023 GM          Created\r\n************************************************************************/\nexport class TextValidators {\n  /**\r\n  * Minimum Length Validator\r\n  * @param length\r\n  */\n  static minLengthValidator(length) {\n    return control => TextValidators.minLengthValidatorFn(control, length);\n  }\n  /**\r\n  * Minimum Length Validator Function\r\n  * @param control Control\r\n  * @param length\r\n  */\n  static minLengthValidatorFn(control, length) {\n    let errors = null;\n    // Validate input    \n    if (control.value !== null) {\n      if (control.value !== undefined) {\n        if (control.value != \"\") {\n          if (!this.validateMinLength(control.value.toString(), length)) {\n            errors = {\n              'minLengthValidator-MSG': `A minimum of ${length} characters is required`\n            };\n          }\n        }\n      }\n    }\n    return errors;\n  }\n  /**\r\n   * Validate Minimum Length\r\n   * @param value\r\n   * @param length\r\n   */\n  static validateMinLength(value, length) {\n    return value.length >= length;\n  }\n  /**\r\n  * Match Validator\r\n  * @param match\r\n  */\n  static matchValidator(match) {\n    return control => TextValidators.matchValidatorFn(control, match);\n  }\n  /**\r\n  * Match Validator Function\r\n  * @param control Control\r\n  * @param match\r\n  */\n  static matchValidatorFn(control, match) {\n    let errors = null;\n    // Validate input    \n    if (control.value !== null) {\n      if (control.value !== undefined) {\n        if (control.value != \"\") {\n          if (!this.validateMatch(control.value.toString(), match)) {\n            errors = {\n              'matchValidator-MSG': `Values do not match`\n            };\n          }\n        }\n      }\n    }\n    return errors;\n  }\n  /**\r\n   * Validate Matching Values\r\n   * @param value\r\n   * @param match\r\n   */\n  static validateMatch(value, match) {\n    return value === match;\n  }\n  /**\r\n  * Email Validator\r\n  */\n  static emailValidator() {\n    return control => TextValidators.emailValidatorFn(control);\n  }\n  /**\r\n  * Email Validator Function\r\n  * @param control\r\n  */\n  static emailValidatorFn(control) {\n    let errors = null;\n    // Validate input    \n    if (control.value !== null) {\n      if (control.value !== undefined) {\n        if (control.value != \"\") {\n          if (!this.validateEmail(control.value)) {\n            errors = {\n              'emailValidator-MSG': 'INVALID_EMAIL'\n            };\n          }\n        }\n      }\n    }\n    return errors;\n  }\n  /**\r\n   * Validate Email\r\n   * @param email\r\n   */\n  static validateEmail(email) {\n    /*\r\n     * for discussions on email regex expressions see: https://www.regular-expressions.info/email.html\r\n     */\n    const regex = /^[A-Z0-9][A-Z0-9._%+-]{0,63}@(?:[A-Z0-9-]{1,63}\\.){1,125}[A-Z]{2,63}$/igm;\n    if (email.match(regex)) return true;else return false;\n  }\n  /**\r\n  * Whitelist Validator\r\n  * @param whitelist\r\n  */\n  static whitelistValidator(whitelist) {\n    return control => TextValidators.whitelistValidatorFn(control, whitelist);\n  }\n  /**\r\n  * Whitelist Validator Function\r\n  * @param control\r\n  * @param whitelist\r\n  */\n  static whitelistValidatorFn(control, whitelist) {\n    let errors = null;\n    // Validate input    \n    if (control.value !== null) {\n      if (control.value !== undefined) {\n        if (control.value != \"\") {\n          if (!this.validateWhitelist(control.value.toString(), whitelist)) {\n            errors = {\n              \"whitelistValidator-MSG\": whitelist.error\n            };\n          }\n        }\n      }\n    }\n    return errors;\n  }\n  /**\r\n   * Validate Whitelist\r\n   * @param value\r\n   * @param whitelist\r\n   */\n  static validateWhitelist(value, whitelist) {\n    const regex = new RegExp(whitelist.pattern);\n    if (value.match(regex)) return true;else return false;\n  }\n}","map":{"version":3,"mappings":"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","names":["TextValidators","minLengthValidator","length","control","minLengthValidatorFn","errors","value","undefined","validateMinLength","toString","matchValidator","match","matchValidatorFn","validateMatch","emailValidator","emailValidatorFn","validateEmail","email","regex","whitelistValidator","whitelist","whitelistValidatorFn","validateWhitelist","error","RegExp","pattern"],"sourceRoot":"","sources":["C:\\Projects\\web\\ToDoDotNetSix\\ToDoDotNetSixWeb\\ClientApp\\src\\app\\shared\\validators\\text.validator.ts"],"sourcesContent":["/**************************************************************************\r\n*\r\n*  System:    ToDo (Web)\r\n*  Module:    Client App \\ Shared \\ Validators\r\n*  Date:      09 AUG 2023\r\n*  Author:    Gary Moran (GM)\r\n*  Function:  Text Validators\r\n*  Notes:     \r\n*\r\n*                   : History of Amendments :\r\n*  Date        Name        Brief description                \r\n*  ----------- ----------  ---------------------------------------------\r\n*  09 AUG 2023 GM          Created\r\n************************************************************************/\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nimport { AbstractControl, ValidatorFn } from '@angular/forms';\r\nimport { Whitelist } from '../models/whitelist';\r\n\r\nexport class TextValidators {\r\n\r\n  /**\r\n  * Minimum Length Validator\r\n  * @param length\r\n  */\r\n  static minLengthValidator(length: number): ValidatorFn {\r\n    return (control: AbstractControl): { [key: string]: any } => TextValidators.minLengthValidatorFn(control, length);\r\n  }\r\n\r\n  /**\r\n  * Minimum Length Validator Function\r\n  * @param control Control\r\n  * @param length\r\n  */\r\n  static minLengthValidatorFn(control: AbstractControl, length: number): { [key: string]: any } {\r\n\r\n    let errors: any = null;\r\n\r\n    // Validate input    \r\n    if (control.value !== null) {\r\n      if (control.value !== undefined) {\r\n        if (control.value != \"\") {\r\n          if (!this.validateMinLength(control.value.toString(), length)) {\r\n            errors = { 'minLengthValidator-MSG': `A minimum of ${length} characters is required` };\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return errors;\r\n  }\r\n\r\n  /**\r\n   * Validate Minimum Length\r\n   * @param value\r\n   * @param length\r\n   */\r\n  private static validateMinLength(value: string, length: number): boolean {\r\n\r\n    return value.length >= length;\r\n\r\n  }\r\n\r\n  /**\r\n  * Match Validator\r\n  * @param match\r\n  */\r\n  static matchValidator(match: string): ValidatorFn {\r\n    return (control: AbstractControl): { [key: string]: any } => TextValidators.matchValidatorFn(control, match);\r\n  }\r\n\r\n  /**\r\n  * Match Validator Function\r\n  * @param control Control\r\n  * @param match\r\n  */\r\n  static matchValidatorFn(control: AbstractControl, match: string): { [key: string]: any } {\r\n\r\n    let errors: any = null;\r\n\r\n    // Validate input    \r\n    if (control.value !== null) {\r\n      if (control.value !== undefined) {\r\n        if (control.value != \"\") {\r\n          if (!this.validateMatch(control.value.toString(), match)) {\r\n            errors = { 'matchValidator-MSG': `Values do not match` };\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return errors;\r\n  }\r\n\r\n  /**\r\n   * Validate Matching Values\r\n   * @param value\r\n   * @param match\r\n   */\r\n  private static validateMatch(value: string, match: string): boolean {\r\n\r\n    return value === match;\r\n\r\n  }\r\n\r\n  /**\r\n  * Email Validator\r\n  */\r\n  static emailValidator(): ValidatorFn {\r\n    return (control: AbstractControl): { [key: string]: any } => TextValidators.emailValidatorFn(control);\r\n  }\r\n\r\n  /**\r\n  * Email Validator Function\r\n  * @param control\r\n  */\r\n  static emailValidatorFn(control: AbstractControl): { [key: string]: any } {\r\n\r\n    let errors: any = null;\r\n    // Validate input    \r\n    if (control.value !== null) {\r\n      if (control.value !== undefined) {\r\n        if (control.value != \"\") {\r\n          if (!this.validateEmail(control.value)) {\r\n            errors = { 'emailValidator-MSG': 'INVALID_EMAIL' };\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return errors;\r\n  }\r\n\r\n  /**\r\n   * Validate Email\r\n   * @param email\r\n   */\r\n  static validateEmail(email: string): boolean {\r\n\r\n    /*\r\n     * for discussions on email regex expressions see: https://www.regular-expressions.info/email.html\r\n     */\r\n    const regex = /^[A-Z0-9][A-Z0-9._%+-]{0,63}@(?:[A-Z0-9-]{1,63}\\.){1,125}[A-Z]{2,63}$/igm;\r\n    if (email.match(regex))\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n\r\n\r\n  /**\r\n  * Whitelist Validator\r\n  * @param whitelist\r\n  */\r\n  static whitelistValidator(whitelist: Whitelist): ValidatorFn {\r\n    return (control: AbstractControl): { [key: string]: any } => TextValidators.whitelistValidatorFn(control, whitelist);\r\n  }\r\n\r\n  /**\r\n  * Whitelist Validator Function\r\n  * @param control\r\n  * @param whitelist\r\n  */\r\n  static whitelistValidatorFn(control: AbstractControl, whitelist: Whitelist): { [key: string]: any } {\r\n\r\n    let errors: any = null;\r\n\r\n    // Validate input    \r\n    if (control.value !== null) {\r\n      if (control.value !== undefined) {\r\n        if (control.value != \"\") {\r\n          if (!this.validateWhitelist(control.value.toString(), whitelist)) {\r\n            errors = { \"whitelistValidator-MSG\": whitelist.error };\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return errors;\r\n  }\r\n\r\n  /**\r\n   * Validate Whitelist\r\n   * @param value\r\n   * @param whitelist\r\n   */\r\n  private static validateWhitelist(value: string, whitelist: Whitelist): boolean {\r\n\r\n    const regex = new RegExp(whitelist.pattern);    \r\n    if (value.match(regex))\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}